{% extends "header.html" %}

{% block body %}

<h1 class="mt-3">Hallo {{session.username}}</h1>


<p>
    <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExample"
            aria-expanded="false" aria-controls="collapseExample">
        Neuer Kurs erstellen
    </button>
</p>
<div class="collapse" id="collapseExample">
    <div class="card card-body mb-3">
        <h5 class="card-title">Neuer Kurs</h5>

        <form class="form-createcourse" method="POST">
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="inputtitel">Kurstitel</label>
                    <input type="text" class="form-control" id="inputtitel" name="title" placeholder="Titel"
                           required>
                </div>
                <div class="form-group col-md-6">
                    <label for="inputbeschreibung">Beschreibung</label>
                    <input type="text" class="form-control" id="inputbeschreibung" name="beschreibung"
                           placeholder="Beschreibung"
                           required>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-3">
                    <label for="inputDate">Datum</label>
                    <input type="date" class="form-control" id="inputDate" name="datum" placeholder="Durchführungsdatum"
                           required>
                </div>
                <div class="form-group col-md-3">
                    <label for="inputzeit">Zeit</label>
                    <input type="time" class="form-control" id="inputzeit" name="zeit" placeholder="HH:MM"
                           required>
                </div>
                <div class="form-group col-md-3">
                    <label for="inputminT">Min. Teilnehmer</label>
                    <input type="text" class="form-control" id="inputminT" name="minT" placeholder="Min. Teilnehmer"
                           required>
                </div>
                <div class="form-group col-md-3">
                    <label for="inputmaxT">Max. Teilnehmer</label>
                    <input type="text" class="form-control" id="inputmaxT" name="maxT" placeholder="Max. Teilnehmer"
                           required>
                </div>

            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="inputCity">Ort</label>
                    <input type="text" class="form-control" id="inputCity" name="ort" required>
                </div>
            </div>
            <button name="btn" type="submit" class="btn btn-primary" value="create">Erstellen</button>
        </form>

    </div>
</div>


{% set cnt = [0] %} <!-- Counter, falls keine Kurse angezeigt werden soll eine ersatzmeldung gezeigt werden -->
{%for title, content in c_list%}

<!-- Wenn der Kurs voll ist wird er nicht angezeigt -->
{% if content[7]|length < content[5] %}

<div class="card mb-3">

    <div class="card-body">
        <h5 class="card-title">{{title}}</h5>
        <p class="card-text">{{content[0]}}
            <br> Datum: {{content[1][2]}}.{{content[1][1]}}.{{content[1][0]}}
            <br> Zeit: {{content[2][0]}}:{{content[2][1]}} UHR
            <br> Ort: {{content[3]}}
        </p>
        <form class="form-signin" method="POST">
            <button name="btn" class="btn btn-primary" type="submit" value="{{title}}">Teilnehmer</button>
            <button name="btn" class="btn btn-danger" type="submit" value="delete;{{title}}">Kurs löschen!</button>
        </form>
    </div>
</div>
{% if cnt.append(cnt.pop() + 1) %}{% endif %}
{%endif%}

{%endfor%}

{% if cnt[0] == 0 %}
<h2>Sie sind derzeit kein Leiter von einem Kurs</h2>

{%endif%}

<p></p>
{% endblock %}